{
    "category": "Recursion Edge Cases",
    "tests": [
        {
            "id": "rec_edge_001",
            "input": "fact(n) := if(n <= 0, 1, n * fact(n-1)); fact(0)",
            "expected": 1.0,
            "expectedType": "NodeDouble",
            "notes": "Factorial base case: 0! = 1"
        },
        {
            "id": "rec_edge_002",
            "input": "fact(n) := if(n <= 1, 1, n * fact(n-1)); fact(1)",
            "expected": 1.0,
            "expectedType": "NodeDouble",
            "notes": "Factorial base case: 1! = 1"
        },
        {
            "id": "rec_edge_003",
            "input": "fib(n) := if(n <= 1, n, fib(n-1) + fib(n-2)); fib(0)",
            "expected": 0.0,
            "expectedType": "NodeDouble",
            "notes": "Fibonacci base case: fib(0) = 0"
        },
        {
            "id": "rec_edge_004",
            "input": "fib(n) := if(n <= 1, n, fib(n-1) + fib(n-2)); fib(1)",
            "expected": 1.0,
            "expectedType": "NodeDouble",
            "notes": "Fibonacci base case: fib(1) = 1"
        },
        {
            "id": "rec_edge_005",
            "input": "countdown(n) := if(n <= 0, 0, countdown(n-1)); countdown(100)",
            "expected": 0.0,
            "expectedType": "NodeDouble",
            "notes": "Deep recursion test (100 levels)"
        },
        {
            "id": "rec_edge_006",
            "input": "mutual_a(n) := if(n <= 0, 0, 1 + mutual_b(n-1)); mutual_b(n) := if(n <= 0, 0, 1 + mutual_a(n-1)); mutual_a(5)",
            "expected": 5.0,
            "expectedType": "NodeDouble",
            "notes": "Mutually recursive functions: a(5)->b(4)->a(3)->b(2)->a(1)->b(0)->0, sums to 5"
        },
        {
            "id": "rec_edge_007",
            "input": "power(x, n) := if(n == 0, 1, x * power(x, n-1)); power(2, 0)",
            "expected": 1.0,
            "expectedType": "NodeDouble",
            "notes": "Recursive power with n=0 base case"
        },
        {
            "id": "rec_edge_008",
            "input": "sumto(n) := if(n <= 0, 0, n + sumto(n-1)); sumto(1)",
            "expected": 1.0,
            "expectedType": "NodeDouble",
            "notes": "Sum to 1"
        },
        {
            "id": "rec_edge_009",
            "input": "identity(x) := if(true, x, identity(x)); identity(42)",
            "expected": 42.0,
            "expectedType": "NodeDouble",
            "notes": "Lazy evaluation prevents infinite recursion in unused branch"
        },
        {
            "id": "rec_edge_010",
            "input": "ackermann(m, n) := if(m == 0, n + 1, if(n == 0, ackermann(m-1, 1), ackermann(m-1, ackermann(m, n-1)))); ackermann(2, 2)",
            "expected": 7.0,
            "expectedType": "NodeDouble",
            "notes": "Ackermann function - highly recursive"
        }
    ]
}
